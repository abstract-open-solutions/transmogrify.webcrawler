PathMover
=========

PathMover will take a definition of moves from partial origin paths and move
them to new paths. It will adjust the _path key and set an _origin key if it
doesn;t exist. _origin is used by relinker.  

>>> from collective.transmogrifier.tests import registerConfig
>>> from collective.transmogrifier.transmogrifier import Transmogrifier
>>> config = """
... [transmogrifier]
... pipeline =
...     webcrawler
...     moves
...     printer
...     
... [webcrawler]
... blueprint = transmogrify.webcrawler.test.htmlsource
... index=content1
... level2/index=content2
... leftover=leftover
... space in name/stuff=stuff
...
... [moves]
... blueprint = transmogrify.webcrawler.pathmover
... moves =
... 	level2	level3
...     index	changed/newindex
...		space in name	spaceless/example
...		leftovers
... [printer]
... blueprint = collective.transmogrifier.sections.tests.pprinter
... """ 

>>> registerConfig(u'test', config)
>>> transmogrifier = Transmogrifier(plone)
>>> transmogrifier(u'test')
    {'_mimetype': 'text/html',
     '_origin': 'level2/index',
     '_path': 'level3/index',
     '_site_url': 'blah',
     'text': 'content2'}
    {'_mimetype': 'text/html',
     '_origin': 'leftover',
     '_path': 'leftovers/leftover',
     '_site_url': 'blah',
     'text': 'leftover'}
    {'_mimetype': 'text/html',
     '_origin': 'index',
     '_path': 'changed/newindex',
     '_site_url': 'blah',
     'text': 'content1'}